  package     com . datastax . driver . core . exceptions ;   import   java . net . InetAddress ;  import   java . util . HashMap ;  import   java . util . Map ;   public class NoHostAvailableException  extends DriverException  {   private static final  long  serialVersionUID = 0 ;   private final  Map  < InetAddress , Throwable >  errors ;   public NoHostAvailableException  (   Map  < InetAddress , Throwable > errors )  {  super  (  makeMessage  ( errors ) ) ;    this . errors = errors ; }   private NoHostAvailableException  (  String message ,  Throwable cause ,   Map  < InetAddress , Throwable > errors )  {  super  ( message , cause ) ;    this . errors = errors ; }   public  Map  < InetAddress , Throwable > getErrors  ( )  {  return  new  HashMap  < InetAddress , Throwable >  ( errors ) ; }    @ Override public DriverException copy  ( )  {  return  new NoHostAvailableException  (  getMessage  ( ) , this , errors ) ; }   private static String makeMessage  (   Map  < InetAddress , Throwable > errors )  {  if  (   errors . size  ( ) == 0 )  return  String . format  ( "All host(s) tried for query failed (no host was tried)" ) ;  if  (   errors . size  ( ) <= 3 )  {  StringBuilder  sb =  new StringBuilder  ( ) ;   sb . append  ( "All host(s) tried for query failed (tried: " ) ;   int  n = 0 ;  for (   Map . Entry  < InetAddress , Throwable > entry :  errors . entrySet  ( ) )  {  if  (   n ++ > 0 )   sb . append  ( ", " ) ;      sb . append  (  entry . getKey  ( ) ) . append  ( " (" ) . append  (  entry . getValue  ( ) ) . append  ( ")" ) ; }  return   sb . append  ( ")" ) . toString  ( ) ; }  return  String . format  ( "All host(s) tried for query failed (tried: %s - use getErrors() for details)" ,  errors . keySet  ( ) ) ; } 
<<<<<<<
=======
  private static String makeMessage  (   Map  < InetAddress , String > errors )  {  if  (   errors . size  ( ) == 0 )  return "All host(s) tried for query failed (no host was tried)" ;  if  (   errors . size  ( ) <= 3 )  {  StringBuilder  sb =  new StringBuilder  ( ) ;   sb . append  ( "All host(s) tried for query failed (tried: " ) ;   int  n = 0 ;  for (   Map . Entry  < InetAddress , String > entry :  errors . entrySet  ( ) )  {  if  (   n ++ > 0 )   sb . append  ( ", " ) ;      sb . append  (  entry . getKey  ( ) ) . append  ( " (" ) . append  (  entry . getValue  ( ) ) . append  ( ")" ) ; }  return   sb . append  ( ")" ) . toString  ( ) ; }  return  String . format  ( "All host(s) tried for query failed (tried: %s - use getErrors() for details)" ,  errors . keySet  ( ) ) ; }
>>>>>>>
 }