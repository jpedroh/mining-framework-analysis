  package    com . mitchellbosecke . pebble . template ;   import     com . google . common . cache . Cache ;  import     com . mitchellbosecke . pebble . cache . CacheKey ;  import     com . mitchellbosecke . pebble . error . PebbleException ;  import     com . mitchellbosecke . pebble . extension . ExtensionRegistry ;  import   java . util . ArrayList ;  import   java . util . HashMap ;  import   java . util . List ;  import   java . util . Locale ;  import   java . util . Map ;  import    java . util . concurrent . ExecutorService ;   public class EvaluationContext  {   private final boolean  strictVariables ;   private final Hierarchy  hierarchy ;   private final ScopeChain  scopeChain ;   private final Locale  locale ;   private final ExtensionRegistry  extensionRegistry ;   private final  Cache  < CacheKey , Object >  tagCache ;   private final ExecutorService  executorService ;   private final  List  < PebbleTemplateImpl >  importedTemplates ;   private final  Map  < String , PebbleTemplateImpl >  namedImportedTemplates ;   public EvaluationContext  (  PebbleTemplateImpl self ,  boolean strictVariables ,  Locale locale ,  ExtensionRegistry extensionRegistry ,   Cache  < CacheKey , Object > tagCache ,  ExecutorService executorService ,   List  < PebbleTemplateImpl > importedTemplates ,   Map  < String , PebbleTemplateImpl > namedImportedTemplates ,  ScopeChain scopeChain ,  Hierarchy hierarchy )  {  if  (  hierarchy == null )  {   hierarchy =  new Hierarchy  ( self ) ; }    this . strictVariables = strictVariables ;    this . locale = locale ;    this . extensionRegistry = extensionRegistry ;    this . tagCache = tagCache ;    this . executorService = executorService ;    this . importedTemplates = importedTemplates ;    this . namedImportedTemplates = namedImportedTemplates ;    this . scopeChain = scopeChain ;    this . hierarchy = hierarchy ; }   public EvaluationContext shallowCopyWithoutInheritanceChain  (  PebbleTemplateImpl self )  {  EvaluationContext  result =  new EvaluationContext  ( self , strictVariables , locale , extensionRegistry , tagCache , executorService , importedTemplates , namedImportedTemplates , scopeChain , null , allowGetClass ) ;  return result ; }   public EvaluationContext threadSafeCopy  (  PebbleTemplateImpl self )  {  EvaluationContext  result =  new EvaluationContext  ( self , strictVariables , locale , extensionRegistry , tagCache , executorService ,  new  ArrayList  < >  ( importedTemplates ) ,  new  HashMap  < >  ( namedImportedTemplates ) ,  scopeChain . deepCopy  ( ) , hierarchy , allowGetClass ) ;  return result ; }   public boolean isStrictVariables  ( )  {  return strictVariables ; }   public Locale getLocale  ( )  {  return locale ; }   public ExtensionRegistry getExtensionRegistry  ( )  {  return extensionRegistry ; }   public ExecutorService getExecutorService  ( )  {  return executorService ; }   public  List  < PebbleTemplateImpl > getImportedTemplates  ( )  {  return  this . importedTemplates ; }   public PebbleTemplateImpl getNamedImportedTemplate  (  String alias )  {  return   this . namedImportedTemplates . get  ( alias ) ; }   public void addNamedImportedTemplates  (  String alias ,  PebbleTemplateImpl template )  throws PebbleException  {  if  (  namedImportedTemplates . containsKey  ( alias ) )  {  throw  new PebbleException  ( null ,  "More than one named template can not share the same name: " + alias ) ; }    this . namedImportedTemplates . put  ( alias , template ) ; }   public  Cache  < CacheKey , Object > getTagCache  ( )  {  return tagCache ; }   public ScopeChain getScopeChain  ( )  {  return scopeChain ; }   public Hierarchy getHierarchy  ( )  {  return hierarchy ; }   private final boolean  allowGetClass ;   public EvaluationContext  (  PebbleTemplateImpl self ,  boolean strictVariables ,  Locale locale ,  ExtensionRegistry extensionRegistry ,   Cache  < CacheKey , Object > tagCache ,  ExecutorService executorService ,   List  < PebbleTemplateImpl > importedTemplates ,  ScopeChain scopeChain ,  Hierarchy hierarchy ,  boolean allowGetClass )  {  if  (  hierarchy == null )  {   hierarchy =  new Hierarchy  ( self ) ; }    this . strictVariables = strictVariables ;    this . locale = locale ;    this . extensionRegistry = extensionRegistry ;    this . tagCache = tagCache ;    this . executorService = executorService ;    this . importedTemplates = importedTemplates ;    this . scopeChain = scopeChain ;    this . hierarchy = hierarchy ;    this . allowGetClass = allowGetClass ; }   public boolean isAllowGetClass  ( )  {  return  this . allowGetClass ; } }